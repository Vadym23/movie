{"version":3,"sources":["movieItem.jsx","components/MovieTabs.jsx","App.js","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","event","getClassLink","App","updateMovies","movies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","getMovies","fetch","then","Response","json","data","results","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.39a9e8fc.chunk.js","sourcesContent":["import React from 'react';\n\nclass MovieItem extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            willWatch: false\n        };\n    }\n    render() {\n        const {\n            movie,\n            removeMovie,\n            addMovieToWillWatch, \n            removeMovieFromWillWatch\n        } = this.props;\n            return (\n                <div className=\"card\">\n                    <img\n                        className=\"card-img-top\"\n                        src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\n                        movie.poster_path}`}\n                        alt=\"\"\n                    />\n                    <div className=\"card-body\">\n                        <h6 className=\"card-title\">{movie.title}</h6>\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n                            {this.state.willWatch ? (\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-success\"\n                                    onClick={() => {\n                                        this.setState({\n                                            willWatch: false\n                                        });\n                                        removeMovieFromWillWatch(movie);\n                                    }}\n                                >\n                                    Remove Will Watch\n                                </button> \n                                ) : (\n                                <button \n                                    type=\"button\"\n                                    className=\"btn btn-secondary\"\n                                    onClick={() => {\n                                        this.setState({\n                                            willWatch: true\n                                        });                                    \n                                        addMovieToWillWatch(movie);\n                                    }}\n                                > \n                                    Add Will Watch\n                                </button>\n                            )}\n                        </div>\n                        <button onClick={removeMovie.bind(null, movie)}>\n                            Delete movie\n                        </button>\n                    </div>\n                </div>\n        );\n    }\n}\n\nexport default MovieItem;","import React from 'react';\n\nconst MovieTabs = props => {\n    const { sort_by, updateSortBy } = props;\n    const handleClick = value => {\n        return event => {\n            updateSortBy(value);\n        };\n    };\n\n    const getClassLink = value => {\n        return `nav-link ${sort_by === value ? 'active' : \"\"}`;\n    };\n\n    return (\n       <ul className='tabs nav nav-pills'>\n           <li className='nav-item'>\n               <div \n                    className={getClassLink('popularity.desc')}\n                    onClick={handleClick('popularity.desc')}\n                >\n                   Popularity desk\n               </div>\n           </li>\n           <li className='nav-item'>\n               <div \n                    className={getClassLink('revenue.desk')}\n                    onClick={handleClick('revenue.desk')}\n                >\n                    Revenue desk\n               </div>\n           </li>\n           <li className='nav-item'>\n               <div \n                    className={getClassLink('vote_average.desk')}\n                    onClick={handleClick('vote_average.desc')}\n                >\n                    Vote avetage desk\n               </div>\n           </li>\n       </ul>\n    )\n}\n\nexport default MovieTabs;","import React from 'react';\n// import { moviesData } from './moviesData';\nimport MovieItem from './movieItem';\nimport {API_URL, API_KEY_3} from './utils/api'\nimport MovieTabs from './components/MovieTabs'\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 'revenue.desc'\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(function(item) {\n      return item.id !== movie.id;\n    });\n    this.setState({\n      movies: updateMovies\n    });\n  }\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    })\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.getMovies();\n    }\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}discover/movie?api_key=${API_KEY_3}&sort_by=${\n        this.state.sort_by\n      }`\n    )\n      .then(Response => {\n        return Response.json();\n      })\n      .then(data => {\n        this.setState({\n          movies: data.results \n          });\n      });\n  }\n\n  removeMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function(item) {\n      return item.id !== movie.id;\n    });\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  }\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value\n    })\n  }\n\n  render() {\n\n    return (\n      <div className='container'>\n        <div className='row mt-4'>\n          <div className='col-md-9'>\n\n            {/* Tabs */}\n            <div className='row mb-4'>\n              <div className=\"col-12\">\n                <MovieTabs \n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n\n            {/* Movies List */}\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className='col-md-6 mb-4' key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className='col-md-3'>\n              <p>Will watch: {this.state.moviesWillWatch.length}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// Movie DB API url\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY_3 = '3f4ca4f3a9750da53450646ced312397';","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}